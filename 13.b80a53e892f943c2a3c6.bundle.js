(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{711:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"uni_dialog",(function(){return uni_dialog_entry_UniDialog}));__webpack_require__(35),__webpack_require__(66);var index_aac135ab=__webpack_require__(6);__webpack_require__(72),__webpack_require__(56),__webpack_require__(36),__webpack_require__(30),__webpack_require__(8),__webpack_require__(65),__webpack_require__(16),__webpack_require__(136);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var lastId=0;function getOverlay(doc,overlayTag,id){var overlays=function getOverlays(doc,selector){return void 0===selector&&(selector="[uni-overlay]"),Array.from(doc.querySelectorAll(selector)).filter((function(c){return 0<c.overlayIndex}))}(doc,overlayTag);return void 0===id?overlays[overlays.length-1]:overlays.find((function(o){return o.id===id}))}function prepareOverlay(el){!function connectListeners(doc){0===lastId&&(lastId=1,doc.addEventListener("focusin",(function(ev){var lastOverlay=getOverlay(doc);if(lastOverlay&&lastOverlay.backdropDismiss&&!function isDescendant(parent,child){for(var currentNode=child;currentNode;){if(currentNode===parent)return!0;currentNode=currentNode.parentElement}return!1}(lastOverlay,ev.target)){var firstInput=lastOverlay.querySelector("input,button");firstInput&&firstInput.focus()}})),doc.addEventListener("keyup",(function(ev){if("Escape"===ev.key){var lastOverlay=getOverlay(doc);lastOverlay&&lastOverlay.backdropDismiss&&lastOverlay.dismiss(void 0,"backdrop")}})))}(document);var overlayIndex=lastId++;el.overlayIndex=overlayIndex,el.hasAttribute("id")||(el.id="uni-overlay-".concat(overlayIndex))}function _present(){return(_present=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(overlay){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!overlay.presented){_context2.next=2;break}return _context2.abrupt("return");case 2:overlay.presented=!0,overlay.willPresent.emit(),overlay.el.classList.remove("overlay-hidden"),overlay.didPresent.emit(),overlay.keyboardClose&&overlay.el.focus();case 7:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function _dismiss(){return(_dismiss=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(overlay,data,role){return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(overlay.presented){_context3.next=2;break}return _context3.abrupt("return",!1);case 2:return overlay.presented=!1,overlay.willDismiss.emit({data:data,role:role}),overlay.didDismiss.emit({data:data,role:role}),overlay.el.remove(),_context3.abrupt("return",!0);case 7:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}var uni_dialog_entry_UniDialog=function(){function UniDialog(hostRef){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UniDialog),Object(index_aac135ab.k)(this,hostRef),this.presented=!1,this.backdropDismiss=!0,this.keyboardClose=!0,this.shakeTimer=null,prepareOverlay(this.el),this.didPresent=Object(index_aac135ab.f)(this,"uniDidPresent",7),this.willPresent=Object(index_aac135ab.f)(this,"uniWillPresent",7),this.willDismiss=Object(index_aac135ab.f)(this,"uniWillDismiss",7),this.didDismiss=Object(index_aac135ab.f)(this,"uniDidDismiss",7)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(UniDialog,[{key:"present",value:function present(){return function overlays_2c862908_present(){return _present.apply(this,arguments)}(this)}},{key:"dismiss",value:function dismiss(data,role){return function overlays_2c862908_dismiss(){return _dismiss.apply(this,arguments)}(this,data,role)}},{key:"doShake",value:function doShake(){var _this=this;this.shakeTimer&&clearTimeout(this.shakeTimer),this.shakeTimer=setTimeout((function(){_this.shakeTimer=null}),200)}},{key:"onBackdropTap",value:function onBackdropTap(){this.backdropDismiss?this.dismiss(void 0,"backdrop"):this.doShake()}},{key:"render",value:function render(){var _this2=this;return Object(index_aac135ab.i)(index_aac135ab.b,{role:"dialog","aria-modal":"true",tabindex:-1,style:{zIndex:"".concat(2e3+this.overlayIndex)},onUniBackdropTap:this.onBackdropTap,"uni-overlay":!0},Object(index_aac135ab.i)("uni-backdrop",{tappable:this.backdropDismiss,onClick:function onClick(){return _this2.backdropDismiss||_this2.doShake()}}),Object(index_aac135ab.i)("uni-dialog-content",{shaking:!!this.shakeTimer},Object(index_aac135ab.i)("slot",{name:"title",slot:"title"}),Object(index_aac135ab.i)("slot",null),Object(index_aac135ab.i)("slot",{name:"actions",slot:"actions"})))}},{key:"el",get:function get(){return Object(index_aac135ab.h)(this)}}]),UniDialog}();uni_dialog_entry_UniDialog.style=":host{position:fixed;top:0;bottom:0;left:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;z-index:2000}:host(.overlay-hidden){display:none}"}}]);
//# sourceMappingURL=13.b80a53e892f943c2a3c6.bundle.js.map